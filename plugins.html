<link rel="stylesheet" href="../../css/prettify.css">
<style>
@font-face {
    font-family: 'helveticaMd';
    src: url('../../fonts/HelveticaMd.eot');
    src: url('../../fonts/HelveticaMd.eot?#iefix') format('embedded-opentype'),
         url('../../fonts/HelveticaMd.woff') format('woff'),
         url('../../fonts/HelveticaMd.ttf') format('truetype'),
         url('../../fonts/HelveticaMd.svg#HelveticaMd') format('svg');
    font-weight: normal;
    font-style: normal;
}
body {margin:0;padding:0;margin-top:-40px;}
.contentWrapper{width:690px; height:auto;margin:auto;}
.codeTitle {font:22px 'helveticaMd', Arial, sans-serif;}
.codeDesc {}
.codeWrapper{margin-top:50px;}
pre {
border:1px solid #ccc !important;background:#f0f0f0 !important;
 white-space: pre-wrap;       /* css-3 */
 white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
 white-space: -pre-wrap;      /* Opera 4-6 */
 white-space: -o-pre-wrap;    /* Opera 7 */
 word-wrap: break-word;       /* Internet Explorer 5.5+ */
 padding:10px !important;
}
</style>

<div class="contentWrapper">

<div class="codeWrapper" rel="General">
<div class="codeTitle">Get Parameter Value</div>
<pre class="prettyprint">
function getParameterValue(source, name ){
	name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	var regexS = "[\\?&]"+name+"=([^&#]*)";
	var regex = new RegExp( regexS );
	var results = regex.exec(source);
	if( results == null )
		return "";
	else
		return decodeURIComponent(results[1].replace(/\+/g, " "));
}

getParameterValue('/gallery/?galleryfilter=all','galleryfilter') //return all
</pre>
</div>


<div class="codeWrapper" rel="General">
<div class="codeTitle">Validate Email</div>
<pre class="prettyprint">
function validateEmail($email) {
	var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
	if( !emailReg.test( $email ) ) {
		return false;
	} else {
		return true;
	}
}

validateEmail('noemail') //return false
validateEmail('email@email.com') //return true
</pre>
</div>


<div class="codeWrapper" rel="General">
<div class="codeTitle">Randomize Array</div>
<pre class="prettyprint">
function shuffle(array) {
	var currentIndex = array.length
	, temporaryValue
	, randomIndex
	;
	
	// While there remain elements to shuffle...
	while (0 !== currentIndex) {
		// Pick a remaining element...
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex -= 1;
		
		// And swap it with the current element.
		temporaryValue = array[currentIndex];
		array[currentIndex] = array[randomIndex];
	array[randomIndex] = temporaryValue;
	}
	
	return array;
}

shuffle(yourArray);
</pre>
</div>


<div class="codeWrapper" rel="General">
<div class="codeTitle">Location host name</div>
<pre class="prettyprint">
console.log(window.location.href);
//output: http://www.geometry.com/showcase/dev/

console.log(window.location.hostname);
//output: www.geometry.com
 
console.log(window.location.host);
//output: www.geometry.com
 
console.log(window.location.pathname);
//output: /showcase/dev/
 
console.log(window.location.protocol);
//output: http:
 
console.log(window.location.port);
//output: (an empty string)
 
//regular expression to check if a string is a hostname.
console.log(window.location.hostname.match(/^.*?-?(\w*)\./)[1]);
//output: www
</pre>
</div>


<div class="codeWrapper" rel="Mobile & Tablet">
<div class="codeTitle">Detect Mobile Browsers</div>
<pre class="prettyprint">
function isDeviceMobile(){
	var isMobile = false;
	if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Opera Mobile|Kindle|Windows Phone|PSP|AvantGo|Atomic Web Browser|Blazer|Chrome Mobile|Dolphin|Dolfin|Doris|GO Browser|Jasmine|MicroB|Mobile Firefox|Mobile Safari|Mobile Silk|Motorola Internet Browser|NetFront|NineSky|Nokia Web Browser|Obigo|Openwave Mobile Browser|Palm Pre web browser|Polaris|PS Vita browser|Puffin|QQbrowser|SEMC Browser|Skyfire|Tear|TeaShark|UC Browser|uZard Web|wOSBrowser|Yandex.Browser mobile/i.test(navigator.userAgent)) isMobile = true;
	return isMobile;
}

//isDeviceMobile() return true/false
</pre>
</div>

<div class="codeWrapper" rel="Mobile & Tablet">
<div class="codeTitle">Check IOS/Android Version</div>
<pre class="prettyprint">
function getDeviceVer() {
	var ua = navigator.userAgent;
	var uaindex;
	
	// determine OS
	if ( ua.match(/(iPad|iPhone|iPod touch)/) ){
		userOS = 'iOS';
		uaindex = ua.indexOf( 'OS ' );
	}else if ( ua.match(/Android/) ){
		userOS = 'Android';
		uaindex = ua.indexOf( 'Android ' );
	}else{
		userOS = 'unknown';
	}
	
	// determine version
	if ( userOS === 'iOS' && uaindex > -1 ){
		userOSver = ua.substr( uaindex + 3, 3 ).replace( '_', '.' );
	}else if ( userOS === 'Android'  &&  uaindex > -1 ){
		userOSver = ua.substr( uaindex + 8, 3 );
	}else{
		userOSver = 'unknown';
	}
	return Number(userOSver)
}
</pre>
</div>

<div class="codeWrapper" rel="Mobile & Tablet">
<div class="codeTitle">Check Orientation</div>
<pre class="prettyprint">
$(window).bind('orientationchange', function() {
	checkMobileOrientation();
});

function checkMobileOrientation() {
	var o = window.orientation;
	if (o != 90 && o != -90) {
		//Portrait
	} else {
		//Landscape
	}
}
</pre>
</div>

<div class="codeWrapper" rel="Mobile & Tablet">
<div class="codeTitle">Device Orientation Data</div>
<pre class="prettyprint">
//Check for compatibility
if (window.DeviceOrientationEvent) {
	//Add an event listener
	window.addEventListener('deviceorientation', function(eventData) {
		//Handle the event
		var tiltLR = eventData.gamma;
		var tiltFB = eventData.beta;
		var dir = eventData.alpha;
	}, false);
}
</pre>
</div>

<div class="codeWrapper" rel="Mobile & Tablet">
<div class="codeTitle">Detect iPhone's App Mode</div>
<pre class="prettyprint">
//Check for compatibility
var standalone = window.navigator.standalone,
var userAgent = window.navigator.userAgent.toLowerCase(),
var safari = /safari/.test( userAgent ),
var ios = /iphone|ipod|ipad/.test( userAgent );

if( ios ) {
	if ( !standalone && safari ) {
		//browser
	} else if ( standalone && !safari ) {
		//standalone
	} else if ( !standalone && !safari ) {
		//uiwebview  
	};   
}else{
	//not ios
}
</pre>
</div>

<div class="codeWrapper" rel="Games">
<div class="codeTitle">Format score</div>
<div class="codeDesc">Adding extra zero in front of number</div>
<pre class="prettyprint">
function formatScores (n, length) {
	var str = (n > 0 ? n : -n) + "";
	var zeros = "";
	for (var i = length - str.length; i > 0; i--)
		zeros += "0";
	zeros += str;
	return n >= 0 ? zeros : "-" + zeros;
}

//formatScores (1, 3) =   "001"
//formatScores (12, 3) =  "012"
//formatScores (123, 3) = "123"
</pre>
</div>

<div class="codeWrapper" rel="Games">
<div class="codeTitle">Get Angle Between 2 Points</div>
<pre class="prettyprint">
function getAngle(sx, sy, ex, ey) {
	var nr = Math.atan2((sy-ey),(sx-ex)); //angle in radians (Cartesian system)
	var swipeAngle = Math.round(nr*180/Math.PI); //angle in degrees
	if ( swipeAngle < 0 ) { swipeAngle =  360 - Math.abs(swipeAngle); }
	return swipeAngle;
}
</pre>
</div>

<div class="codeWrapper" rel="Games">
<div class="codeTitle">Get Distance Between 2 Points</div>
<pre class="prettyprint">
function getDistance(sx, sy, ex, ey) {
	var dis = Math.sqrt(Math.pow(sx - ex, 2) + Math.pow(sy - ey, 2));
	return dis;
}
</pre>
</div>

<div class="codeWrapper" rel="Form">
<div class="codeTitle">Check Upload File Type</div>
<pre class="prettyprint">
(function($) {
    $.fn.checkFileType = function(options) {
        var defaults = {
            allowedExtensions: [],
            success: function() {},
            error: function() {}
        };
        options = $.extend(defaults, options);
        return this.each(function() {
            $(this).on('change', function() {
                var value = $(this).val(),
                    file = value.toLowerCase(),
                    extension = file.substring(file.lastIndexOf('.') + 1);
                if ($.inArray(extension, options.allowedExtensions) == -1) {
                    options.error();
                    $(this).focus();
                } else {
                    options.success();
                }
            });
        });
    };

})(jQuery);

$('#fileUpload').checkFileType({
    allowedExtensions: ['jpg', 'jpeg', 'png'],
    success: function() {
        //success;
    },
    error: function() {
        //error;
    }
});
</pre>
</div>


<div class="codeWrapper" rel="Form">
<div class="codeTitle">Reset Input</div>
<pre class="prettyprint">
$(':input','#targetForm')
    .not(':button, :submit, :reset, :hidden')
    .val('')
    .removeAttr('checked')
    .removeAttr('selected');
</pre>
</div>


<div class="codeWrapper" rel="Debug">
<div class="codeTitle">Find highest z-index on page</div>
<pre class="prettyprint">
var maxZ = Math.max.apply(null,$.map($('body > *'), function(e,n){
       if($(e).css('position')=='absolute')
            return parseInt($(e).css('z-index'))||1 ;
       })
);
alert(maxZ);
</pre>
</div>

<div class="codeWrapper" rel="Debug">
<div class="codeTitle">Get the element under cursor</div>
<pre class="prettyprint">
$('*').live('click', function() { console.log($(this).attr('id')) });
</pre>
</div>

</div>



<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
